(this.webpackJsonpschool_planner_react=this.webpackJsonpschool_planner_react||[]).push([[0],{48:function(e,t,a){},50:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a(38),s=a.n(c),o=(a(48),a(13)),i=a(3),d=(a(49),a(50),a(24)),l=a(25);function u(){var e=Object(d.a)(["\n    color: #ffe6f3;\n    display: flex;\n    align-items: center;\n    text-decoration: none;\n    padding: 0 1rem;\n    height: 100%; \n    cursor: pointer;\n\n    &.active {\n        color: #ff99ce;\n    }\n"]);return u=function(){return e},e}function j(){var e=Object(d.a)(["\n    background: #000;\n    height: 50px;\n    display: flex;\n    justify-content: center;\n    padding: 0.5rem calc((100vw - 1000px) / 2);\n    z-index: 10;\n"]);return j=function(){return e},e}var b=l.a.nav(j()),m=Object(l.a)(o.b)(u()),p=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(b,{children:Object(r.jsx)(m,{to:"/",children:Object(r.jsx)("h1",{style:{marginTop:"8px"},children:"School Planner"})})})})},y=a(10),h=a(2),f=a.n(h),O=a(9),x=a(5),g=a(20),v=a.n(g),w=a(21),S=[{Header:"Time",accessor:"time"},{Header:"Monday",accessor:"monday"},{Header:"Tuesday",accessor:"tuesday"},{Header:"Wednesday",accessor:"wednesday"},{Header:"Thursday",accessor:"thursday"},{Header:"Friday",accessor:"friday"}],T=[{time:"8:00 - 8:50",monday:"",tuesday:"",wednesday:"",thursday:"",friday:""},{time:"9:00 - 9:50",monday:"",tuesday:"",wednesday:"",thursday:"",friday:""},{time:"10:00 - 10:50",monday:"",tuesday:"",wednesday:"",thursday:"",friday:""},{time:"11:00 - 11:50",monday:"",tuesday:"",wednesday:"",thursday:"",friday:""},{time:"12:00 - 12:50",monday:"",tuesday:"",wednesday:"",thursday:"",friday:""},{time:"13:00 - 13:50",monday:"",tuesday:"",wednesday:"",thursday:"",friday:""},{time:"14:00 - 14:50",monday:"",tuesday:"",wednesday:"",thursday:"",friday:""},{time:"15:00 - 15:50",monday:"",tuesday:"",wednesday:"",thursday:"",friday:""},{time:"16:00 - 16:50",monday:"",tuesday:"",wednesday:"",thursday:"",friday:""},{time:"17:00 - 17:50",monday:"",tuesday:"",wednesday:"",thursday:"",friday:""}],N=a(42),k=(a(75),function(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),o=Object(x.a)(s,2),d=o[0],l=o[1],u=Object(w.a)(),j=u.handleSubmit,b=u.register,m=Object(n.useState)(),p=Object(x.a)(m,2),h=p[0],g=p[1],k=Object(i.f)(),C=Object(n.useState)(T),H=Object(x.a)(C,2),q=H[0],P=H[1];Object(n.useEffect)((function(){(function(){var e=Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting data..."),e.next=3,v.a.get("/plannerData");case 3:t=e.sent,0===a.length&&(c(t.data.rooms),l(t.data.activities)),void 0===h&&g(a[0]);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(n.useEffect)((function(){B()}),[h]);var B=function(){console.log("updating activities...");var e=T;void 0===h&&g(a[0]);for(var t=0;t<d.length;t++){var r=d[t];if(r.room===h){var n=e[r.slot-1];n[r.day]=r.class,e[r.slot-1]=n}}P(e),k.push("/")},L=Object(N.useTable)({columns:S,data:q}),R=L.getTableProps,E=L.getTableBodyProps,F=L.headerGroups,_=L.rows,A=L.prepareRow;return Object(r.jsx)("div",{style:{marginLeft:"8%",marginRight:"8%",marginTop:"15px",marginBottom:"30px"},children:Object(r.jsxs)("div",{className:"wrapper",children:[Object(r.jsxs)("form",{onChange:j((function(e){g(e.room)})),style:{marginBottom:"30px"},children:[Object(r.jsx)("label",{children:"Room:"}),Object(r.jsx)("select",{name:"room",className:"form-control",ref:b({required:!0}),style:{width:"150px"},children:a.map((function(e){return e===h?Object(r.jsx)("option",{selected:!0,children:e}):Object(r.jsx)("option",{children:e})}))})]}),Object(r.jsxs)("table",Object(y.a)(Object(y.a)({},R()),{},{children:[Object(r.jsx)("thead",{children:F.map((function(e){return Object(r.jsx)("tr",Object(y.a)(Object(y.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(r.jsx)("th",Object(y.a)(Object(y.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(r.jsx)("tbody",Object(y.a)(Object(y.a)({},E()),{},{children:_.map((function(e){return A(e),Object(r.jsx)("tr",Object(y.a)(Object(y.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(r.jsx)("td",Object(y.a)(Object(y.a)({},e.getCellProps()),{},{onDoubleClick:function(){return function(e){console.log("cell clicked");var t=e.row.index+1,a=e.column.id,r={room:h,slot:t,day:a};k.push("/createActivity",r)}(e)},children:e.render("Cell")}))}))}))}))}))]}))]})})});function C(e){var t=Object(n.useState)([]),a=Object(x.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)([]),d=Object(x.a)(o,2),l=d[0],u=d[1],j=Object(n.useState)([]),b=Object(x.a)(j,2),m=b[0],p=b[1],y=Object(i.g)(),h=Object(i.f)();Object(n.useEffect)((function(){(function(){var e=Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting data..."),e.next=3,v()("/plannerData");case 3:t=e.sent,s(t.data.classes),u(t.data.teachers),p(t.data.groups);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var g=function(e){return Object(r.jsx)("option",{children:e})},S=Object(w.a)(),T=S.register,N=S.handleSubmit,k=S.errors;return Object(r.jsx)("div",{className:"wrapper",style:{marginLeft:"30%",marginRight:"30%",marginTop:"10px"},children:Object(r.jsxs)("form",{onSubmit:N((function(e){var t={room:y.state.room,group:e.group,class:e.class,slot:y.state.slot,teacher:e.teacher,day:y.state.day};console.log(e),console.log(t),v.a.post("/createActivity",t).then((function(){return console.log("New activity created")})).catch((function(e){return console.error(e)})),h.push("/")})),children:[Object(r.jsx)("h1",{style:{marginLeft:"25%",marginBottom:"20px",marginTop:"20px"},children:"New activity"}),Object(r.jsx)("label",{children:"Select lecture"}),Object(r.jsx)("select",{name:"class",className:"form-control",ref:T({required:!0}),children:c.map(g)}),k.class&&Object(r.jsx)("p",{style:{color:"red",marginLeft:"5px"},children:"Field required"}),Object(r.jsx)("label",{style:{marginTop:"10px"},children:"Select teacher"}),Object(r.jsx)("select",{name:"teacher",className:"form-control",ref:T({required:!0}),children:l.map(g)}),k.teacher&&Object(r.jsx)("p",{style:{color:"red",marginLeft:"5px"},children:"Field required"}),Object(r.jsx)("label",{style:{marginTop:"10px"},children:"Select group"}),Object(r.jsx)("select",{name:"group",className:"form-control",ref:T({required:!0}),style:{marginBottom:"20px"},children:m.map(g)}),k.group&&Object(r.jsx)("p",{style:{color:"red",marginLeft:"5px"},children:"Field required"}),Object(r.jsx)("input",{type:"submit",value:"Create activity",className:"btn btn-block",style:{marginTop:"20px",backgroundColor:"#bb99ff"}}),Object(r.jsx)("input",{value:"Cancel",className:"btn btn-block",style:{marginTop:"20px",backgroundColor:"#d1d1e0"},onClick:function(){return h.push("/")}})]})})}document.title="School planner";var H=function(){return console.log("Refreshing..."),Object(r.jsxs)(o.a,{children:[Object(r.jsx)(p,{}),Object(r.jsx)("div",{className:"container",style:{padding:"20px"},children:Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"col-md-12",children:Object(r.jsxs)(i.c,{children:[Object(r.jsx)(i.a,{path:"/",exact:!0,component:k}),Object(r.jsx)(i.a,{path:"/createActivity",exact:!0,component:C})]})})})})]})};s.a.render(Object(r.jsx)(o.a,{children:Object(r.jsx)(H,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.41611c22.chunk.js.map